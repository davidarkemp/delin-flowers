<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>Flowers</title>
    <!--<link rel="stylesheet" href="css/flowers.css">-->
    <style type="text/css">
        body { padding:0; margin: 0; }

        #flower-holder {
            overflow:hidden;
            position: relative;
            padding: 0;
            margin: 0;
            background-color: #f0f0f0;
            list-style: none;
        }

        #flower-holder li {
            float: left;
            border: 1px solid #000;
            margin: 5px;
            overflow: hidden;
        }

        #flower-holder li img {
            float: left;
            border : 0;
        }

    </style>
</head>
<body>
    <ul id="flower-holder">
        <li>
            <a href="assets/2391799205_020a417c3b.jpg">
                <img src="assets/thumbnails/2391799205_020a417c3b_t.jpg" />
            </a>
        </li>

        <li>
            <a href="assets/2391819253_6882c7fd15.jpg">
                <img src="assets/thumbnails/2391819253_6882c7fd15_t.jpg" />
            </a>
        </li>

           <li>
            <a href="assets/2391824483_a02f161141.jpg">
                <img src="assets/thumbnails/2391824483_a02f161141_t.jpg" />
            </a>
        </li>

    </ul>
    <script type="text/javascript" src="js/jquery-1.5.2.min.js"></script>
    <script type="text/javascript" src="js/jquery.isotope.min.js"></script>

    <script type="text/javascript">
        $(function() {
            var $flowerHolder = $("#flower-holder");
            var $children = $flowerHolder.children();

            for(var i = 0; i < 100; ++i) {
                var q = Math.floor(Math.random() * $children.length);
                $flowerHolder.append($children.eq(q).clone());
            }

            
        });
    </script>

    <script type="text/javascript">
        $(function() {
        var $flowerHolder = $("#flower-holder");
        $flowerHolder
            .isotope({ animationEngine: 'jquery' })
            .children()
                .toggle(function() {

                    var $this = $(this);

                    var $img = $this.find("img");
                    $this.data("size", [$this.width(),$this.height()]);
                    $this.data("thumbnail", $img.attr("src"));

                    var image =new Image();
                    $(image).load(function(){

                        $img.css({ width: '100%', height: '100% '})
                            .attr("src",image.src);

                        $this.css({ width: image.width, height: image.height });
                        $flowerHolder.isotope( 'reLayout');
                    });

                    image.src = $this.find("a")[0].href;


                }, function() {
                    var $this = $(this);
                    var size = $this.data("size");
                    $this.css({ width: size[0], height: size[1] });
                    $this.find("img").attr("src", $this.data("thumbnail"));
                    $flowerHolder.isotope( 'reLayout');

                });
        });
    </script>
</body>
</html>